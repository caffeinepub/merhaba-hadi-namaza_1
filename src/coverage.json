{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-16T01:45:29.644Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 3,
    "implemented": 3,
    "items": [
      {
        "id": "REQ-3",
        "summary": "Update the web-to-AndroidPush payload so `dailyPrayers` and `weeklyPrayers` are JSON arrays of objects (not strings), where each element is exactly `{ \"name\": string, \"time\": string, \"timeMillis\": number }`, and ensure the payload is sent via `window.AndroidPush.sendPrayerTimes(JSON.stringify(jsonData))` without causing Android-side `JSONObject`/`JSONArray` parsing crashes.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/features/home/useAndroidPushPrayerTimes.ts"
        ],
        "matchedFiles": [
          "frontend/src/features/home/useAndroidPushPrayerTimes.ts"
        ]
      },
      {
        "id": "REQ-4",
        "summary": "Update the AndroidPush TypeScript declarations and web bridge validation to match the new schema where `dailyPrayers` and `weeklyPrayers` are arrays of objects `{name,time,timeMillis}` (not formatted strings), and keep backward-compatible bridge method fallback behavior (`sendPrayerTimes` then `send`).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/androidPushBridge.d.ts",
          "frontend/src/utils/androidBridge.ts"
        ],
        "matchedFiles": [
          "frontend/src/androidPushBridge.d.ts",
          "frontend/src/utils/androidBridge.ts"
        ]
      },
      {
        "id": "REQ-5",
        "summary": "Add developer-facing documentation that includes (1) an example JavaScript snippet that builds the correct `jsonData` structure (including daily + weekly arrays of `{name,time,timeMillis}`) and calls `window.AndroidPush.sendPrayerTimes(JSON.stringify(jsonData))`, and (2) an example Kotlin snippet showing how Android should parse the JSON (`JSONObject` -> `JSONArray` -> `JSONObject`), store/retrieve it from SharedPreferences, compute the next upcoming prayer using `timeMillis`, and periodically refresh a persistent notification while the app UI is not open.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/docs/android-webview-template.md"
        ],
        "matchedFiles": [
          "frontend/docs/android-webview-template.md"
        ]
      }
    ]
  },
  "changedFiles": [
    "build-request.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/docs/android-webview-template.md",
    "frontend/src/androidPushBridge.d.ts",
    "frontend/src/features/home/useAndroidPushPrayerTimes.ts",
    "frontend/src/utils/androidBridge.ts",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}