{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [
    "Do not rely solely on WebView localStorage for location persistence; store selected location in a more durable store (e.g., IndexedDB/native storage bridge) and load it at app start."
  ],
  "known_issues": [
    "Selected location is lost after some time; user must reselect location when reopening the app."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-persist-the-user-selected-location-in-a-more-durable-client-side-store-than-localstorage-to-survive-android-webview-storage-cleanup-and-use-it-as-the-app-s-canonical-saved-location-until-the-user-changes-it",
      "title": "Persist the user-selected location in a more durable client-side store than localStorage (to survive Android WebView storage cleanup) and use it as the app’s canonical saved location until the user changes it.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-app-settings-load-save-flow-so-location-changes-are-written-to-durable-storage-and-localstorage-before-any-ui-close-navigation-actions-that-depend-on-the-saved-location-e-g-closing-the-location-picker-dialog",
      "title": "Update the app settings load/save flow so location changes are written to durable storage and localStorage before any UI close/navigation actions that depend on the saved location (e.g., closing the location picker dialog).",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-all-location-selection-entry-points-intended-to-affect-the-default-app-location-update-the-same-persisted-app-settings-location-field-and-never-reset-it-to-null-default-on-mount-or-when-switching-tabs-including-flows-that-offer-save-as-default-vs-temporary",
      "title": "Ensure all location selection entry points intended to affect the default app location update the same persisted app settings `location` field and never reset it to null/default on mount or when switching tabs (including flows that offer “save as default” vs “temporary”).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Persist selected location so it does not get cleared over time; auto-load it on app launch",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Hadi Namaza",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}