{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-update-the-web-to-androidpush-payload-so-dailyprayers-and-weeklyprayers-are-json-arrays-of-objects-not-strings-where-each-element-is-exactly-name-string-time-string-timemillis-number-and-ensure-the-payload-is-sent-via-window-androidpush-sendprayertimes-json-stringify-jsondata-without-causing-android-side-jsonobject-jsonarray-parsing-crashes",
      "featureTitle": "Update the web-to-AndroidPush payload so `dailyPrayers` and `weeklyPrayers` are JSON arrays of objects (not strings), where each element is exactly `{ \"name\": string, \"time\": string, \"timeMillis\": number }`, and ensure the payload is sent via `window.AndroidPush.sendPrayerTimes(JSON.stringify(jsonData))` without causing Android-side `JSONObject`/`JSONArray` parsing crashes.",
      "files": [
        "frontend/src/features/home/useAndroidPushPrayerTimes.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "http-outcalls@3.0.0"
      ],
      "testIds": [
        "REQ-3"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-update-the-androidpush-typescript-declarations-and-web-bridge-validation-to-match-the-new-schema-where-dailyprayers-and-weeklyprayers-are-arrays-of-objects-name-time-timemillis-not-formatted-strings-and-keep-backward-compatible-bridge-method-fallback-behavior-sendprayertimes-then-send",
      "featureTitle": "Update the AndroidPush TypeScript declarations and web bridge validation to match the new schema where `dailyPrayers` and `weeklyPrayers` are arrays of objects `{name,time,timeMillis}` (not formatted strings), and keep backward-compatible bridge method fallback behavior (`sendPrayerTimes` then `send`).",
      "files": [
        "frontend/src/androidPushBridge.d.ts",
        "frontend/src/utils/androidBridge.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "http-outcalls@3.0.0"
      ],
      "testIds": [
        "REQ-4"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-add-developer-facing-documentation-that-includes-1-an-example-javascript-snippet-that-builds-the-correct-jsondata-structure-including-daily-weekly-arrays-of-name-time-timemillis-and-calls-window-androidpush-sendprayertimes-json-stringify-jsondata-and-2-an-example-kotlin-snippet-showing-how-android-should-parse-the-json-jsonobject-jsonarray-jsonobject-store-retrieve-it-from-sharedpreferences-compute-the-next-upcoming-prayer-using-timemillis-and-periodically-refresh-a-persistent-notification-while-the-app-ui-is-not-open",
      "featureTitle": "Add developer-facing documentation that includes (1) an example JavaScript snippet that builds the correct `jsonData` structure (including daily + weekly arrays of `{name,time,timeMillis}`) and calls `window.AndroidPush.sendPrayerTimes(JSON.stringify(jsonData))`, and (2) an example Kotlin snippet showing how Android should parse the JSON (`JSONObject` -> `JSONArray` -> `JSONObject`), store/retrieve it from SharedPreferences, compute the next upcoming prayer using `timeMillis`, and periodically refresh a persistent notification while the app UI is not open.",
      "files": [
        "frontend/docs/android-webview-template.md"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "http-outcalls@3.0.0"
      ],
      "testIds": [
        "REQ-5"
      ],
      "confidence": "high"
    }
  ]
}